<html> 
</html>
<script>

var rr = (function(rr){
	var d=document.body;
	rr.createTAG=(function(c,s){//svg
		if(rr.eq(c)(/regexp/)){
			rr[c.toString().replace(/[/]/g,"")](rr)
		}else{
			if(c!=d){
				c = document.createElement(c);
				c.innerHTML = (s)?s:"";
				d.appendChild(c);
				d=(["TR","TABLE"].includes(c.tagName))?c:d;
				rr.table = (c.tagName == "TABLE")?c:rr.table;
			}
		}
		var f = function(k,v){
			if(arguments.length>0){
				v = rr.eq(v)(/regexp/) ? rr[v.toString().replace(/[/]/g,"")](rr)() : v;
				c["setAttribute"].apply(c,[].slice.call(arguments));
			}
			return (arguments.length>0)?f:rr.createTAG;
		};
		return (arguments.length>0)?f:rr;
	});
	return rr.createTAG;
})
({
	table:{},
	random_focus:"a",
	eq:function(e){
		e = Object.prototype.toString.call(e).slice(8, -1);
		var f = function(q){
			q = Object.prototype.toString.call(q).slice(8, -1);
			return (e == q)?true:false;
		}
		return f;
	},
	random:function(rr,r){
		//https://www.w3.org/TR/SVGColor12/#color
		var aa = ["aliceblue" , "antiquewhite" , "aqua" , "aquamarine" , "azure" , "beige" , 
	    "bisque" , "black" , "blanchedalmond" , "blue" , "blueviolet" , "brown" , 
	    "burlywood" ,"cadetblue" , "chartreuse" , "chocolate" , "coral" , "cornflowerblue" , 	
	    "cornsilk" , "crimson" , "cyan" , "darkblue" , "darkcyan" , "darkgoldenrod" , 
	    "darkgray" , "darkgreen" , "darkgrey" , "darkkhaki" , "darkmagenta" , "darkolivegreen" , 
	    "darkorange" , "darkorchid" , "darkred" , "darksalmon" , "darkseagreen" , "darkslateblue" , 
	    "darkslategray" , "darkslategrey" , "darkturquoise" , "darkviolet" , "deeppink" , "deepskyblue" , 
	    "dimgray" , "dimgrey" , "dodgerblue" , "firebrick" , "floralwhite" , "forestgreen" , 
	    "fuchsia" , "gainsboro" , "ghostwhite" , "gold" , "goldenrod" , "gray" , 
	    "grey" , "green" , "greenyellow" , "honeydew" , "hotpink" , "indianred" , 
	    "indigo" , "ivory" , "khaki" , "lavender" , "lavenderblush" , "lawngreen" , 
	    "lemonchiffon" , "lightblue" , "lightcoral" , "lightcyan" , "lightgoldenrodyellow" , "lightgray" , 
	    "lightgreen" , "lightgrey" , "lightpink" , "lightsalmon" , "lightseagreen" , "lightskyblue" , 
	    "lightslategray" , "lightslategrey" , "lightsteelblue" , "lightyellow" , "lime" , 
	    "limegreen" , "linen" , "magenta" , "maroon" , "mediumaquamarine" , "mediumblue" , 
	    "mediumorchid" , "mediumpurple" , "mediumseagreen" , "mediumslateblue" , "mediumspringgreen" , "mediumturquoise" ,
	    "mediumvioletred" , "midnightblue" , "mintcream" , "mistyrose" , "moccasin" , "navajowhite" , 
	    "navy" , "oldlace" , "olive" , "olivedrab" , "orange" , "orangered" , 
	    "orchid" , "palegoldenrod" , "palegreen" , "paleturquoise" , "palevioletred" , "papayawhip" , 
	    "peachpuff" , "peru" , "pink" , "plum" , "powderblue" , "purple" , 
	    "red" , "rosybrown" , "royalblue" , "saddlebrown" , "salmon" , "sandybrown" , 
	    "seagreen" , "seashell" , "sienna" , "silver" , "skyblue" , "slateblue" , 
	    "slategray" , "slategrey" , "snow" , "springgreen" , "steelblue" , "tan" , 
	    "teal" , "thistle" , "tomato" , "turquoise" , "violet" , "wheat" , 
	    "white" , "whitesmoke" , "yellow" , "yellowgreen"];
		if (rr.eq(r)(/regexp/)) {
			aa = aa.filter(function(c,i,a){return r.exec(c)});
		}
		return (r)?aa:(function(a){
			a=(a)?a:aa;
			return a[Math.floor(Math.random() * a.length)]}
		);
	},
	table_s:function(rr,aa){
		var table =rr.table;
		aa = (aa)?aa:rr.random(rr,/.*/);
		console.log(rr.random_focus);

		rr.a_click=function(e){
			console.log(e);
		};

		var tr =  document.createElement("tr");
		return aa.map(function(c,i,a){
			if (((i+1)%4)==0){
				td = document.createElement("td");
				tr.appendChild(td);
				a = document.createElement("a");
				a.href="";
				a.innerHTML=c;
				rr.addEventListners
				(a)("click",rr.a_click,false);
				td.appendChild(a);
				table.appendChild(tr);
				tr =  document.createElement("tr");
			}else{
				td = document.createElement("td");
				tr.appendChild(td);
				a = document.createElement("a");
				a.href="";
				a.innerHTML=c;
				rr.addEventListners
				(a)("click",rr.a_click,false);
				td.appendChild(a);
			}
			return c;
		})
	},
	addEventListners:function(c){
        var f = function(){
        	c.addEventListener.apply(c,arguments);
        	return f;
        };
        return f;
    }
})(document.body)
("bgcolor",/random/)()
	("table")
	("border","1")()
		(/table_s/)()
			("button","test")
			("id","test1")()
			();

(function(rr){
	window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
	rr.recognition = new webkitSpeechRecognition();
	//https://en.wikipedia.org/wiki/IETF_language_tag
	rr.recognition.lang = ["ja","en-US"][0];
	rr.onresult = function(event){
	    var results = event.results;
	    console.log("res",results);
	    for (var i = event.resultIndex; i<results.length; i++)
	        console.log(results[i][0].transcript);
	}
 	rr.onclick=function(e){
		rr.recognition.start();
 	};

	rr.addEventListners
	(document.getElementById("test1"))
		("click", rr.onclick, false);

	rr.addEventListners
	(rr.recognition)
		("result", rr.onresult, false);


})(rr);





</script>
