<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Boid</title>
  <style>
    canvas:focus {
      outline: none;
    }
  </style>
  <script src="https://static.jstree.com/3.3.7/assets/jquery-1.10.2.min.js"></script>
</head>
<body>

<textarea id="content" cols="40" rows="5">Hello, World!
こんにちは、みなさん！</textarea><br>
<a id="download" target="_blank">ダウンロード</a>
<script>

(function() {
    // Aタグのhref属性に、Blobを設定する。
    // Blobに含めるデータは、引数で指定する。
    function setBlobUrl(id, content) {
        // 指定されたデータを保持するBlobを作成する。
        var blob = new Blob([ content ], { "type" : "text/plain" });

        // Aタグのhref属性にBlobオブジェクトを設定する。
        window.URL = window.URL || window.webkitURL;
        $("#" + id).attr("href", window.URL.createObjectURL(blob));
    }

    $("#content").keyup(function(){
        setBlobUrl("download", $("#content").val());
    });

    $("#content").keyup();
})();
</script>
</body>
</html>